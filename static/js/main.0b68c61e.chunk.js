(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,n,t){},16:function(e,n,t){},17:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(6),i=t.n(c),u=(t(13),t(4)),o=t(1),s=t.n(o),l=t(2),f=t(3),p={loading:!1,recipes:[],ingredients:[]},d="SET_LOADING",m="SET_RECIPES",v="SET_INGREDIENTS",w=function(e){return{type:d,payload:e}},h=function(e){return{type:m,payload:e}},y=function(e){return{type:v,payload:e}},b=function(e,n){switch(n.type){case d:var t=n.payload;return Object(f.a)({},e,{loading:t});case m:var r=n.payload;return Object(f.a)({},e,{recipes:r});case v:var a=n.payload;return Object(f.a)({},e,{ingredients:a});default:return e}},E=(t(16),function(){var e=Object(l.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://www.mocky.io/v2/5c85f7a1340000e50f89bd6c");case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()),g=function(){var e=Object(l.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.mocky.io/v2/5cac82f1300000664f10368f");case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),k=function(e){return new Date(e).getTime()>(new Date).getTime()},j=function(e){return function(n){return-1!==e.indexOf(n)}},O=function(e){return e.title},x=function(e){var n=e.recipe;return a.a.createElement("div",null,a.a.createElement("h1",null,n.title),a.a.createElement("p",null,"What you need:"),a.a.createElement("ul",null,n.ingredients.map(function(e){return a.a.createElement(T,{key:e,title:e})})))},T=function(e){var n=e.title;return a.a.createElement("li",null,n)},I=function(){var e=Object(r.useReducer)(b,p),n=Object(u.a)(e,2),t=n[0],c=t.recipes,i=t.ingredients,o=n[1],f=function(){var e=Object(l.a)(s.a.mark(function e(){var n,t,r,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o(w(!0)),e.next=3,Promise.all([E(),g()]);case 3:n=e.sent,t=Object(u.a)(n,2),r=t[0].recipes,a=t[1].ingredients,o(h(r)),o(y(a)),o(w(!1));case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),d=i.filter(function(e){var n=e["use-by"];return k(n)}),m=d.map(O),v=d.filter(function(e){var n=e["best-before"];return k(n)}).map(O),T=c.filter(function(e){return e.ingredients.every(j(v))}),I=c.filter(function(e){var n=e.ingredients;return!n.every(j(v))&&n.every(j(m))});return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},0===c.length?a.a.createElement("button",{type:"button",onClick:function(){return f()}},"What's For Lunch?"):T.concat(I).map(function(e){return a.a.createElement(x,{key:e.title,recipe:e})})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},7:function(e,n,t){e.exports=t(17)}},[[7,1,2]]]);
//# sourceMappingURL=main.0b68c61e.chunk.js.map