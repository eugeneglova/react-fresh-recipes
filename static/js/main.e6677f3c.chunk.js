(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(7),i=n.n(c),u=(n(13),n(2)),o=n(4),l=n(1),s=n(3),f=n.n(s),d=n(5),p={loading:!1,data:{}},m="SET_LOADING",v="SET_DATA",h=function(e){return{type:m,payload:e}},w=function(e){return{type:v,payload:e}},b=function(e,t){switch(t.type){case m:var n=t.payload;return Object(l.a)({},e,{loading:n});case v:var r=t.payload;return Object(l.a)({},e,{data:r});default:return e}},y=function(){var e=Object(d.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),g=(n(16),function(e){return new Date(e).getTime()>(new Date).getTime()}),E=function(e){return function(t){return-1!==e.indexOf(t)}},O=function(e){return e.title},j={recipes:"https://www.mocky.io/v2/5c85f7a1340000e50f89bd6c",ingredients:"https://www.mocky.io/v2/5cac82f1300000664f10368f"},k=function(e){var t=e.recipe;return a.a.createElement("div",null,a.a.createElement("h1",null,t.title),a.a.createElement("p",null,"What you'll need:"),a.a.createElement("ul",null,t.ingredients.map(function(e){return a.a.createElement(x,{key:e,title:e})})))},x=function(e){var t=e.title;return a.a.createElement("li",null,t)},A=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(r.useReducer)(b,p),n=Object(u.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(e),s=Object(u.a)(i,2),m=s[0],v=s[1];return Object(r.useEffect)(function(){!function(){var e=Object(d.a)(f.a.mark(function e(){var t,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c(h(!0)),e.next=3,Promise.all(Object.keys(m).map(function(e){return y(m[e])}));case 3:t=e.sent,n=Object.keys(m).reduce(function(e,n,r){return Object(l.a)({},e,Object(o.a)({},n,t[r]))},a.data),c(h(!1)),c(w(n));case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[m]),[a,v]}(),t=Object(u.a)(e,2),n=t[0],c=n.data,i=c.recipes,s=(i=void 0===i?{}:i).recipes,m=void 0===s?[]:s,v=c.ingredients,x=(v=void 0===v?{}:v).ingredients,A=void 0===x?[]:x,T=n.loading,D=t[1];return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},T?a.a.createElement("h1",null,"Loading..."):0===m.length?a.a.createElement("button",{type:"button",onClick:function(){return D(j)}},a.a.createElement("h1",null,"What's For Lunch?")):function(e,t){var n=t.filter(function(e){var t=e["use-by"];return g(t)}),r=n.map(O),a=n.filter(function(e){var t=e["best-before"];return g(t)}).map(O),c=e.filter(function(e){return e.ingredients.every(E(a))}),i=e.filter(function(e){var t=e.ingredients;return!t.every(E(a))&&t.every(E(r))});return c.concat(i)}(m,A).map(function(e){return a.a.createElement(k,{key:e.title,recipe:e})})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,n){e.exports=n(17)}},[[8,1,2]]]);
//# sourceMappingURL=main.e6677f3c.chunk.js.map